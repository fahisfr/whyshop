{"ast":null,"code":"import axios from 'axios';\nconst baseURL = 'http://localhost:4000/';\nexport const ImagePath = imageId => `${baseURL}images/${imageId}.jpg`;\n_c = ImagePath;\nconst instance = axios.create({\n  baseURL: 'http://localhost:4000/api/',\n  headers: {\n    'authorization': localStorage.getItem('accesstoken')\n  },\n  withCredentials: true\n});\ninstance.interceptors.response.use(response => response, async error => {\n  try {\n    const {\n      data\n    } = await instance.put('/auth/refreshtoken', {\n      withCredentials: true\n    });\n    localStorage.setItem('accesstoken', data.accesstoken);\n    window.location.reload('/');\n  } catch (err) {\n    return Promise.reject(error);\n  }\n});\nexport default instance;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImagePath\");","map":{"version":3,"sources":["/home/frboy/whyshop/cliend/src/Axios.js"],"names":["axios","baseURL","ImagePath","imageId","instance","create","headers","localStorage","getItem","withCredentials","interceptors","response","use","error","data","put","setItem","accesstoken","window","location","reload","err","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,MAAMC,OAAO,GAAG,wBAAhB;AAEA,OAAO,MAAMC,SAAS,GAAIC,OAAD,IAAc,GAAEF,OAAQ,UAASE,OAAQ,MAA3D;KAAMD,S;AAEb,MAAME,QAAQ,GAAGJ,KAAK,CAACK,MAAN,CAAa;AAC1BJ,EAAAA,OAAO,EAAE,4BADiB;AAE1BK,EAAAA,OAAO,EAAE;AACL,qBAAiBC,YAAY,CAACC,OAAb,CAAqB,aAArB;AADZ,GAFiB;AAK1BC,EAAAA,eAAe,EAAE;AALS,CAAb,CAAjB;AAQAL,QAAQ,CAACM,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,CACID,QAAQ,IAAIA,QADhB,EAEI,MAAME,KAAN,IAAe;AACX,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMV,QAAQ,CAACW,GAAT,CAAa,oBAAb,EAAmC;AAAEN,MAAAA,eAAe,EAAE;AAAnB,KAAnC,CAAvB;AACAF,IAAAA,YAAY,CAACS,OAAb,CAAqB,aAArB,EAAoCF,IAAI,CAACG,WAAzC;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,GAAvB;AAEH,GALD,CAKC,OAAMC,GAAN,EAAW;AACR,WAAOC,OAAO,CAACC,MAAR,CAAeV,KAAf,CAAP;AACH;AACA,CAXT;AAgBA,eAAeT,QAAf","sourcesContent":["import axios from 'axios';\n\n\nconst baseURL = 'http://localhost:4000/';\n\nexport const ImagePath = (imageId) => `${baseURL}images/${imageId}.jpg`;\n\nconst instance = axios.create({\n    baseURL: 'http://localhost:4000/api/',\n    headers: {\n        'authorization': localStorage.getItem('accesstoken'),\n    },\n    withCredentials: true\n   \n});\ninstance.interceptors.response.use(\n    response => response,\n    async error => {\n        try {\n            const { data } = await instance.put('/auth/refreshtoken', { withCredentials: true })\n            localStorage.setItem('accesstoken', data.accesstoken)\n            window.location.reload('/')\n            \n        }catch(err) {\n            return Promise.reject(error);\n        }\n        }\n);\n\n\n\nexport default instance"]},"metadata":{},"sourceType":"module"}