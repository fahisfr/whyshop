{"ast":null,"code":"import React,{useEffect}from'react';import'./Cart.css';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{fetchCart,removeFromCart,changeProductQuantity}from'../../Features/Cart';import Axios,{ImagePath}from'../../Axios';import Navbar from'../../Components/Navbar/NavBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(){var dispatch=useDispatch();useEffect(function(){dispatch(fetchCart());},[dispatch]);var _useSelector=useSelector(function(state){return state.cart;}),cartInfo=_useSelector.cartInfo,total=_useSelector.total;var changeQuantity=function changeQuantity(quantity,id,price){dispatch(changeProductQuantity({id:id,quantity:quantity,price:price}));Axios.put(\"cart/change-product-quantity/\".concat(id),{quantity:quantity}).then(function(res){if(res.data.status){}});};var removeCartProduct=function removeCartProduct(id){dispatch(removeFromCart(id));Axios.put('cart/remove-product/'+id,{id:id}).then(function(res){});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),cartInfo.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"cart-is-empty\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Cart is Empty\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-left-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-left-header-left\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"cart-h1-mycart\",children:\"My Cart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-left-header-right\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-left-body\",children:cartInfo.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-left-body-product\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-left-body-product-image\",children:/*#__PURE__*/_jsx(\"img\",{src:ImagePath(item.imageId),alt:\"loading\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-left-body-product-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"c-p-name\",children:item.name}),/*#__PURE__*/_jsx(\"span\",{className:\"c-p-stock\",children:\"inStock\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"c-p-price\",children:[\"\\u20B9\",item.price,\" kg\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"c-p-total\",children:[\"total:\",item.total]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-left-body-product-quantity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return changeQuantity(-.5,item._id,item.price/2);},style:{backgroundColor:'red'},className:\"cart-product-quantity-button\",children:\"-\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"cart-prdocut-show-quantity\",children:[item.quantity,/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'10px'},children:\"kg\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return changeQuantity(.5,item._id,item.price/2);},className:\"cart-product-quantity-button\",children:\"+\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-left-body-prdouct-total\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u20B924\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){removeCartProduct(item._id);},className:\"cart-prdocut-remove\",children:\"remove\"})})]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-bill\",children:/*#__PURE__*/_jsx(\"span\",{children:\"PRICE DETAILS\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-p-t-billing\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Products Total \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",total]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-d-p-billing\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"delivery price\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'lightgreen'},children:\"Free\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-order-total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Price\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u20B9\",total]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-place-order\",children:/*#__PURE__*/_jsx(Link,{to:\"/checkout\",children:/*#__PURE__*/_jsx(\"button\",{className:\"place-order\",children:\"Place Order\"})})})]})]})]});}export default Cart;","map":{"version":3,"sources":["/home/frboy/whyshop/cliend/src/Page/Cart/Cart.js"],"names":["React","useEffect","Link","useSelector","useDispatch","fetchCart","removeFromCart","changeProductQuantity","Axios","ImagePath","Navbar","Cart","dispatch","state","cart","cartInfo","total","changeQuantity","quantity","id","price","put","then","res","data","status","removeCartProduct","length","map","item","index","imageId","name","_id","backgroundColor","fontSize","color"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport './Cart.css'\nimport { Link } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { fetchCart, removeFromCart, changeProductQuantity} from '../../Features/Cart'\nimport Axios, { ImagePath } from '../../Axios'\n\n\nimport Navbar from '../../Components/Navbar/NavBar'\n\n\n\n\n\nfunction Cart() {\n    const dispatch = useDispatch()\n    useEffect(() => {\n        dispatch(fetchCart())\n    }, [dispatch])\n    const { cartInfo,total } = useSelector(state => state.cart)\n\n    const changeQuantity = (quantity, id,price) => {\n        dispatch(changeProductQuantity({ id, quantity,price }))\n        Axios.put(`cart/change-product-quantity/${id}`, { quantity }).then(res => {\n            if (res.data.status) {\n            }\n        })\n    }\n    const removeCartProduct = id => {\n        dispatch(removeFromCart(id))\n        Axios.put('cart/remove-product/' + id, { id: id }).then(res => {\n        })\n    }\n    return (\n        <div>\n            <Navbar></Navbar>\n            {\n                cartInfo.length === 0 ?\n                    <div className='cart-is-empty'>\n                        <span>Cart is Empty</span>\n                    </div> :\n                    \n                    <div className='cart-container'>\n                      \n                        <div className=\"cart-left\">\n                            <div className=\"cart-left-header\">\n                                <div className=\"cart-left-header-left\">\n                                    <h1 className=\"cart-h1-mycart\">My Cart</h1>\n\n                                </div>\n                                <div className=\"cart-left-header-right\">\n\n                                </div>\n                            </div>\n                            <div className=\"cart-left-body\">\n                                {\n                                    cartInfo.map((item, index) => {\n                                        return (\n                                            <div className=\"cart-left-body-product\" key={index}>\n\n                                                <div className=\"cart-left-body-product-image\">\n                                                    <img src={ImagePath(item.imageId)} alt=\"loading\" />\n                                                </div>\n                                                <div className=\"cart-left-body-product-details\">\n                                                    <span className='c-p-name'>{item.name}</span>\n                                                    <span className='c-p-stock'>inStock</span>\n                                                    <span className='c-p-price'>₹{item.price} kg</span>\n                                                    <span className='c-p-total'>total:{item.total}</span>\n                                                </div>\n                                                <div className=\"cart-left-body-product-quantity\">\n                                                    <button onClick={() => changeQuantity(-.5, item._id, item.price / 2)} style={{ backgroundColor: 'red' }} className=\"cart-product-quantity-button\">-</button>\n                                                    <span className='cart-prdocut-show-quantity'>{item.quantity}<span style={{ fontSize: '10px' }}>kg</span></span>\n                                                    <button onClick={() => changeQuantity(.5, item._id, item.price / 2)} className=\"cart-product-quantity-button\">+</button>\n                                                </div>\n                                                <div className=\"cart-left-body-prdouct-total\">\n                                                    <span>₹24</span>\n                                                </div>\n                                                <div>\n                                                    <button onClick={() => { removeCartProduct(item._id) }} className=\"cart-prdocut-remove\">remove</button>\n                                                </div>\n                                            </div>\n                                        )\n                                    })\n                                }\n                            </div>\n\n                        </div>\n                        <div className=\"cart-right\">\n                            <div className='cart-bill'>\n                                <span>PRICE DETAILS</span>\n                            </div>\n                            <div className='cart-p-t-billing'>\n                                <span>Products Total </span>\n                                <span>₹{total}</span>\n                            </div>\n                            <div className='cart-d-p-billing' >\n                                <span>delivery price</span>\n                                <span style={{ color: 'lightgreen' }}>Free</span>\n                            </div>\n                            <div className=\"cart-order-total\">\n                                <span>Total Price</span>\n                                <span>₹{total}</span>\n                            </div>\n                            <div className='cart-place-order'>\n                                <Link to='/checkout'><button className='place-order'>Place Order</button></Link>\n\n                            </div>\n                        </div>\n                    </div>\n            }\n            \n\n        </div>\n    )\n\n}\n\nexport default Cart\n"]},"metadata":{},"sourceType":"module"}