{"ast":null,"code":"import _slicedToArray from\"/home/frboy/whyshop/cliend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./Product.css';import RecomendDiv from'../../Components/RecomendProducts/RecomendDIv';import NavBar from'../../Components/Navbar/NavBar';import{useParams}from'react-router-dom';import Axios,{ImagePath}from'../../Axios';import{useDispatch,useSelector}from'react-redux';import{addToCart,changeProductQuantity}from'../../Features/Cart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Product(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.cart;}),cartInfo=_useSelector.cartInfo;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),SearchProduct=_useState2[0],setproduct=_useState2[1];var inCart=cartInfo.find(function(item){return item._id===SearchProduct._id;});var _useParams=useParams(),idparams=_useParams.id;useEffect(function(){Axios.get(\"/product/\".concat(idparams)).then(function(res){if(res.data.status){setproduct(res.data.product);}});},[idparams]);function AddTOCart(id,product){var name=product.name,price=product.price,imageId=product.imageId,type=product.type;dispatch(addToCart({_id:id,name:name,price:price,imageId:imageId,id:id,quantity:1,type:type}));Axios.put(\"cart/add-to-cart/\".concat(id)).then(function(res){});}var changeQuantity=function changeQuantity(quantity,id){dispatch(changeProductQuantity({id:id,quantity:quantity}));Axios.put(\"cart/change-product-quantity/\".concat(id),{quantity:quantity}).then(function(res){});};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-main\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"show-product-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"show-product-images\",children:/*#__PURE__*/_jsx(\"img\",{src:ImagePath(SearchProduct.imageId),alt:\"product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"show-product-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"p-title\",children:SearchProduct.name}),/*#__PURE__*/_jsx(\"span\",{className:\"p-stock\",children:\" In stock\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"p-price\",children:[\"\\u20B9\",SearchProduct.price,\" Kg\"]}),inCart?/*#__PURE__*/_jsxs(\"div\",{className:\"p-change-quantity\",children:[/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:\"red\"},onClick:function onClick(){return changeQuantity(-.5,inCart._id);},children:\"-\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"p-quantity\",children:[inCart.quantity,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"p-kg\",children:\" kg\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return changeQuantity(.5,inCart._id);},children:\"+\"})]}):/*#__PURE__*/_jsx(\"button\",{className:\"p-button\",onClick:function onClick(){return AddTOCart(SearchProduct._id,SearchProduct);},children:\"Add to cart\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-recommend\",children:[/*#__PURE__*/_jsx(RecomendDiv,{pricelimit:SearchProduct.price,pricemax:SearchProduct.price+100}),/*#__PURE__*/_jsx(RecomendDiv,{pricelimit:SearchProduct.price-50,pricemax:SearchProduct.price+100})]})]});}export default Product;","map":{"version":3,"sources":["/home/frboy/whyshop/cliend/src/Page/Product/Product.js"],"names":["React","useState","useEffect","RecomendDiv","NavBar","useParams","Axios","ImagePath","useDispatch","useSelector","addToCart","changeProductQuantity","Product","dispatch","state","cart","cartInfo","SearchProduct","setproduct","inCart","find","item","_id","idparams","id","get","then","res","data","status","product","AddTOCart","name","price","imageId","type","quantity","put","changeQuantity","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './Product.css'\nimport RecomendDiv from '../../Components/RecomendProducts/RecomendDIv'\n\n\nimport NavBar from '../../Components/Navbar/NavBar'\nimport { useParams } from 'react-router-dom'\nimport Axios, { ImagePath } from '../../Axios'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { addToCart,changeProductQuantity } from '../../Features/Cart'\n\n\n\n\nfunction Product() {\n    const dispatch = useDispatch()\n    const { cartInfo } = useSelector(state => state.cart)\n    const [SearchProduct, setproduct] = useState({})\n    const inCart = cartInfo.find(item => item._id === SearchProduct._id)\n    const { id: idparams } = useParams()\n    \n    useEffect(() => {\n        Axios.get(`/product/${idparams}`).then(res => {\n            if (res.data.status) {setproduct(res.data.product)}})\n    }, [idparams])\n\n    function AddTOCart(id, product) {\n        const { name, price, imageId, type } = product\n        dispatch(addToCart({ _id: id, name, price, imageId, id, quantity: 1, type }))\n        Axios.put(`cart/add-to-cart/${id}`).then(res => {})\n    }\n    const changeQuantity = (quantity, id) => {\n        dispatch(changeProductQuantity({ id, quantity }))\n        Axios.put(`cart/change-product-quantity/${id}`, { quantity }).then(res => {})\n    }\n    return (\n        <div className='product-main'>\n            <NavBar />\n            <div className='show-product-info'>\n                <div className='show-product-images'>\n                    <img src={ImagePath(SearchProduct.imageId)} alt='product' />\n                </div>\n                <div className='show-product-details'>\n                    <span className='p-title'>{SearchProduct.name}</span>\n                    <span className='p-stock'> In stock</span>\n                    <span className='p-price'>â‚¹{SearchProduct.price} Kg</span>\n                    {inCart ? <div className='p-change-quantity'>\n                        <button style={{ backgroundColor: \"red\" }} onClick={()=>changeQuantity(-.5,inCart._id)} >-</button>\n                        <span className='p-quantity'>{inCart.quantity} <span className=\"p-kg\"> kg</span></span>\n                        <button onClick={() => changeQuantity(.5, inCart._id)}>+</button>\n                    </div> :\n                        <button className='p-button' onClick={() => AddTOCart(SearchProduct._id, SearchProduct)} >Add to cart</button>}\n                </div>\n            </div>\n            <div className='p-recommend'>\n                <RecomendDiv pricelimit={SearchProduct.price} pricemax={SearchProduct.price + 100} />\n                <RecomendDiv pricelimit={SearchProduct.price-50} pricemax={SearchProduct.price + 100} />\n            </div>\n\n\n        </div>\n    )\n}\n\nexport default Product\n"]},"metadata":{},"sourceType":"module"}