{"ast":null,"code":"import React,{useEffect}from'react';import'./RecomendDiv.css';import{useDispatch,useSelector}from'react-redux';import{fetchProduts}from'../../Features/Products';import Axios,{ImagePath}from'../../Axios';import{addToCart}from'../../Features/Cart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RecomendBar(props){var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products;var dispatch=useDispatch();var _useSelector2=useSelector(function(state){return state.cart;}),cartInfo=_useSelector2.cartInfo;useEffect(function(){if(products.length===0){dispatch(fetchProduts());}},[dispatch]);function AddTOCart(id,product){var name=product.name,price=product.price,imageId=product.imageId,type=product.type;Axios.put(\"cart/add-to-cart/\".concat(id)).then(function(res){if(res.data.status){dispatch(addToCart({_id:id,name:name,type:type,price:price,imageId:imageId,id:id,quantity:1}));}});}return/*#__PURE__*/_jsx(\"div\",{className:\"recommend-products\",children:products.filter(function(res){return res.price>=props.pricelimit&&res.price<=props.pricemax;}).map(function(product,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"recommend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:ImagePath(product.imageId),alt:\"loading\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-name\",children:/*#__PURE__*/_jsx(\"span\",{children:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-pirce\",children:/*#__PURE__*/_jsxs(\"span\",{children:[product.price,\" kg\"]})}),cartInfo.find(function(res){return res._id===product._id;})?/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-addtocart\",children:/*#__PURE__*/_jsx(\"button\",{className:\"item-remove\",children:\"Remove\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-addtocart\",children:/*#__PURE__*/_jsx(\"button\",{className:\"item-add\",onClick:function onClick(){return AddTOCart(product._id,product);},children:\"Add to cart\"})})]},index);})});}export default RecomendBar;","map":{"version":3,"sources":["/home/frboy/whyshop/cliend/src/Components/RecomendProducts/RecomendDIv.js"],"names":["React","useEffect","useDispatch","useSelector","fetchProduts","Axios","ImagePath","addToCart","RecomendBar","props","state","products","dispatch","cart","cartInfo","length","AddTOCart","id","product","name","price","imageId","type","put","then","res","data","status","_id","quantity","filter","pricelimit","pricemax","map","index","find"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport './RecomendDiv.css'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { fetchProduts } from '../../Features/Products'\nimport Axios, { ImagePath } from '../../Axios'\nimport { addToCart} from '../../Features/Cart'\n\n\nfunction RecomendBar(props) {\n    const { products} = useSelector(state => state.products)\n    const dispatch = useDispatch()\n    const { cartInfo } = useSelector(state => state.cart)\n    useEffect(() => {\n        if (products.length === 0) {\n            dispatch(fetchProduts())\n        } \n    }, [dispatch])\n    function AddTOCart(id, product) {\n        const { name, price, imageId, type } = product\n        Axios.put(`cart/add-to-cart/${id}`).then(res => {\n            if (res.data.status) {\n                dispatch(addToCart({ _id: id, name,type,price, imageId, id, quantity: 1 }))\n            }\n        })\n    }\n    return (\n        <div className='recommend-products'>\n            {\n                products.filter(res => res.price >= props.pricelimit && res.price <= props.pricemax) .map((product, index) => {\n                    return (\n                        <div className='recommend-item' key={index}>\n                            <div className='recommend-item-image'>\n                                <img src={ImagePath(product.imageId)} alt='loading' />\n                            </div>\n                            <div className='recommend-item-name'>\n                                <span>{product.name}</span>\n                            </div>\n                            <div className='recommend-item-pirce'>\n                                <span>{product.price} kg</span>\n                            </div>\n                            {\n                                cartInfo.find(res => res._id === product._id) ?\n                                    <div className='recommend-item-addtocart'>\n                                        <button className='item-remove'>Remove</button >\n                                    </div> :\n                                     <div className='recommend-item-addtocart'>\n                                <button className='item-add' onClick={() => AddTOCart(product._id, product)} >Add to cart</button>\n                            </div>\n                            }\n                        </div>\n                    )\n                })\n            }\n\n        </div>\n    )\n}\n\nexport default RecomendBar\n"]},"metadata":{},"sourceType":"module"}