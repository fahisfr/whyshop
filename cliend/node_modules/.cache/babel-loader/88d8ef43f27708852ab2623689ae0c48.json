{"ast":null,"code":"import React,{useEffect}from'react';import'./RecomendDiv.css';import{useDispatch,useSelector}from'react-redux';import{fetchProduts}from'../../Features/Products';import{Link}from'react-router-dom';import Axios,{ImagePath}from'../../Axios';import{addToCart,changeProductQuantity,removeFromCart}from'../../Features/Cart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RecomendBar(props){var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products;var dispatch=useDispatch();var _useSelector2=useSelector(function(state){return state.cart;}),cartInfo=_useSelector2.cartInfo;useEffect(function(){if(products.lenght===0){dispatch(fetchProduts());}},[products.lenght,dispatch]);var changeQuantity=function changeQuantity(quantity,id){dispatch(changeProductQuantity({id:id,quantity:quantity}));Axios.put(\"cart/change-product-quantity/\".concat(id),{quantity:quantity});};var AddTOCart=function AddTOCart(id,product){var name=product.name,price=product.price,imageId=product.imageId,type=product.type;dispatch(addToCart({_id:id,name:name,type:type,price:price,imageId:imageId,id:id,quantity:1}));Axios.put(\"cart/add-to-cart/\".concat(id));};var removeCartProduct=function removeCartProduct(id){dispatch(removeFromCart(id));Axios.put('cart/remove-product/'+id,{id:id});};return/*#__PURE__*/_jsx(\"div\",{className:\"recommend-products\",children:products.filter(function(res){return res.type===props.type;}).map(function(product,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"recommend-item\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product.name),children:/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:ImagePath(product.imageId),alt:\"loading\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-name\",children:/*#__PURE__*/_jsx(\"span\",{children:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-pirce\",children:/*#__PURE__*/_jsxs(\"span\",{children:[product.price,\" kg\"]})}),cartInfo.find(function(res){return res._id===product._id;})?/*#__PURE__*/_jsxs(\"div\",{className:\"recommend-item-remove\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeCartProduct(product._id);},className:\"item-remove-button\",children:\"Remove\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return changeQuantity(-.5,product._id);},className:\"recommend-item-quantity-button\",style:{color:'red'},children:\"-\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"recommend-item-show-quantity\",children:[cartInfo.find(function(res){return res._id===product._id;}).quantity,/*#__PURE__*/_jsx(\"span\",{className:\"random-quantity-kg\",children:\" kg\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return changeQuantity(.5,product._id);},className:\"recommend-item-quantity-button\",children:\"+\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"recommend-item-addtocart\",children:/*#__PURE__*/_jsx(\"button\",{className:\"item-add\",onClick:function onClick(){return AddTOCart(product._id,product);},children:\"Add to cart\"})})]},index);})});}export default RecomendBar;","map":{"version":3,"sources":["/home/frboy/whyshop/cliend/src/Components/RecomendProducts/RecomendDIv.js"],"names":["React","useEffect","useDispatch","useSelector","fetchProduts","Link","Axios","ImagePath","addToCart","changeProductQuantity","removeFromCart","RecomendBar","props","state","products","dispatch","cart","cartInfo","lenght","changeQuantity","quantity","id","put","AddTOCart","product","name","price","imageId","type","_id","removeCartProduct","filter","res","map","index","find","e","color"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport './RecomendDiv.css'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { fetchProduts } from '../../Features/Products'\nimport {  Link } from 'react-router-dom'\nimport Axios, { ImagePath } from '../../Axios'\nimport { addToCart, changeProductQuantity, removeFromCart } from '../../Features/Cart'\n\n\n\nfunction RecomendBar(props) {\n \n    const { products} = useSelector(state => state.products)\n    const dispatch = useDispatch()\n    const { cartInfo } = useSelector(state => state.cart)\n\n    useEffect(() => {\n        if (products.lenght === 0) {\n            dispatch(fetchProduts())}\n    }, [products.lenght,dispatch])\n    const changeQuantity = (quantity, id) => {\n        dispatch(changeProductQuantity({ id, quantity }))\n        Axios.put(`cart/change-product-quantity/${id}`, { quantity })\n    }\n\n    const  AddTOCart=(id, product)=> {\n        const { name, price, imageId, type } = product\n        dispatch(addToCart({ _id: id, name, type, price, imageId, id, quantity: 1 }))\n        Axios.put(`cart/add-to-cart/${id}`)\n    }\n\n    const removeCartProduct = id => {\n        dispatch(removeFromCart(id))\n        Axios.put('cart/remove-product/' + id, { id: id })\n    }\n\n    return (\n        <div className='recommend-products'>\n            {\n                products.filter(res => res.type === props.type).map((product, index) => {\n                    return (\n                        <div className='recommend-item' key={index} >\n                            <Link to={`/product/${product.name}`}>\n                                <div className='recommend-item-image'>\n                                    <img src={ImagePath(product.imageId)} alt='loading'  />\n                                </div>\n                            </Link>\n\n                            <div className='recommend-item-name' >\n                                <span>{product.name}</span>\n                            </div>\n                            <div className='recommend-item-pirce'>\n                                <span>{product.price} kg</span>\n                            </div>\n                            {\n\n                                cartInfo.find(res => res._id === product._id) ?\n                                    <div className='recommend-item-remove'>\n                                        <button onClick={() => removeCartProduct(product._id)} className='item-remove-button'>Remove</button >\n                                        <button onClick={(e) => changeQuantity(-.5, product._id)} className=\"recommend-item-quantity-button\" style={{ color: 'red' }}>-</button>\n                                        <span className='recommend-item-show-quantity'>{cartInfo.find(res => res._id === product._id).quantity}<span className='random-quantity-kg'> kg</span></span>\n                                        <button onClick={(e) => changeQuantity(.5, product._id)} className=\"recommend-item-quantity-button\">+</button>\n                                    </div> :\n                                    <div className='recommend-item-addtocart'>\n\n                                        <button className='item-add' onClick={() => AddTOCart(product._id, product)} >Add to cart</button>\n                                    </div>\n\n                            }\n                        </div>\n                    )\n                })\n            }\n\n        </div >\n    )\n}\n\nexport default RecomendBar\n"]},"metadata":{},"sourceType":"module"}