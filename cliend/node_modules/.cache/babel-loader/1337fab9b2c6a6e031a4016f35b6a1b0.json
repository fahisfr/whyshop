{"ast":null,"code":"import _defineProperty from\"/home/frboy/whyshop/cliend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/frboy/whyshop/cliend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/frboy/whyshop/cliend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import Axios from'../Axios';export var fetchUser=createAsyncThunk('user/fetchUser',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(userId){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get('/authentication').then(function(res){return res.data;});case 2:response=_context.sent;return _context.abrupt(\"return\",response);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var userSlice=createSlice({name:'user',initialState:{userInfo:{name:'Unknown',number:'999999999',role:'',isAthu:false},error:'',loading:false},reducers:{login:function login(state,action){state.userInfo=action.payload;},logout:function logout(state,action){state.userInfo={name:'',number:'',role:'',isAthu:false};}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchUser.fulfilled,function(state,action){state.userInfo=action.payload.UserInfo;}),_defineProperty(_extraReducers,fetchUser.pending,function(state,action){state.loading=true;}),_defineProperty(_extraReducers,fetchUser.rejected,function(state,action){state.error=action.error;state.loading=false;}),_extraReducers)});var _userSlice$actions=userSlice.actions,login=_userSlice$actions.login,logout=_userSlice$actions.logout;export{login,logout};export default userSlice.reducer;","map":{"version":3,"sources":["/home/frboy/whyshop/cliend/src/Features/User.js"],"names":["createSlice","createAsyncThunk","Axios","fetchUser","userId","get","then","res","data","response","userSlice","name","initialState","userInfo","number","role","isAthu","error","loading","reducers","login","state","action","payload","logout","extraReducers","fulfilled","UserInfo","pending","rejected","actions","reducer"],"mappings":"qcAAA,OAASA,WAAT,CAAqBC,gBAArB,KAA6C,kBAA7C,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CAGA,MAAO,IAAMC,CAAAA,SAAS,CAAGF,gBAAgB,CAAC,gBAAD,0FAAmB,iBAAOG,MAAP,qJACjCF,CAAAA,KAAK,CAACG,GAAN,CAAU,iBAAV,EAA6BC,IAA7B,CAAkC,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAN,EAArC,CADiC,QAClDC,QADkD,+CAEjDA,QAFiD,wDAAnB,+DAAlC,CAKP,MAAO,IAAOC,CAAAA,SAAS,CAAGV,WAAW,CAAC,CAClCW,IAAI,CAAE,MAD4B,CAElCC,YAAY,CAAE,CACVC,QAAQ,CAAE,CACNF,IAAI,CAAE,SADA,CAENG,MAAM,CAAE,WAFF,CAGNC,IAAI,CAAE,EAHA,CAINC,MAAM,CAAE,KAJF,CADA,CAOVC,KAAK,CAAE,EAPG,CAQVC,OAAO,CAAE,KARC,CAFoB,CAalCC,QAAQ,CAAE,CACNC,KAAK,CAAE,eAACC,KAAD,CAAQC,MAAR,CAAmB,CACtBD,KAAK,CAACR,QAAN,CAAiBS,MAAM,CAACC,OAAxB,CAEH,CAJK,CAKNC,MAAM,CAAE,gBAACH,KAAD,CAAQC,MAAR,CAAmB,CACvBD,KAAK,CAACR,QAAN,CAAiB,CACbF,IAAI,CAAE,EADO,CAEbG,MAAM,CAAE,EAFK,CAGbC,IAAI,CAAE,EAHO,CAIbC,MAAM,CAAE,KAJK,CAAjB,CAMH,CAZK,CAbwB,CA0B/BS,aAAa,mDACXtB,SAAS,CAACuB,SADC,CACW,SAACL,KAAD,CAAQC,MAAR,CAAmB,CACtCD,KAAK,CAACR,QAAN,CAAiBS,MAAM,CAACC,OAAP,CAAeI,QAAhC,CACH,CAHW,iCAIXxB,SAAS,CAACyB,OAJC,CAIS,SAACP,KAAD,CAAQC,MAAR,CAAmB,CACpCD,KAAK,CAACH,OAAN,CAAe,IAAf,CAEH,CAPW,iCAQXf,SAAS,CAAC0B,QARC,CAQU,SAACR,KAAD,CAAQC,MAAR,CAAmB,CACrCD,KAAK,CAACJ,KAAN,CAAcK,MAAM,CAACL,KAArB,CACAI,KAAK,CAACH,OAAN,CAAgB,KAAhB,CACH,CAXW,iBA1BkB,CAAD,CAA9B,C,uBAyCuBR,SAAS,CAACoB,O,CAA1BV,K,oBAAAA,K,CAAMI,M,oBAAAA,M,sBAEpB,cAAed,CAAAA,SAAS,CAACqB,OAAzB","sourcesContent":["import { createSlice,createAsyncThunk } from '@reduxjs/toolkit'\nimport Axios from '../Axios'\n\n\nexport const fetchUser = createAsyncThunk('user/fetchUser', async (userId) => {\n    const response = await Axios.get('/authentication').then(res=>res.data)\n    return response\n})\n\nexport const  userSlice = createSlice({\n    name: 'user',\n    initialState: {\n        userInfo: {\n            name: 'Unknown',\n            number: '999999999',\n            role: '',\n            isAthu: false,\n        },\n        error: '',\n        loading: false,\n        \n    },\n    reducers: {\n        login: (state, action) => {\n            state.userInfo = action.payload;\n\n        },\n        logout: (state, action) => {\n            state.userInfo = {\n                name: '',\n                number: '',\n                role: '',\n                isAthu: false,\n            }\n        }\n    }, extraReducers: {\n        [fetchUser.fulfilled]: (state, action) => {\n            state.userInfo = action.payload.UserInfo;\n        },\n        [fetchUser.pending]: (state, action) => {\n            state.loading= true;\n            \n        },\n        [fetchUser.rejected]: (state, action) => {\n            state.error = action.error;\n            state.loading = false;\n        }\n    }\n})\n\nexport const {login,logout} = userSlice.actions;\n\nexport default userSlice.reducer;"]},"metadata":{},"sourceType":"module"}