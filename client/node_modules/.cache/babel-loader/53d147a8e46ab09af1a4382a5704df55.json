{"ast":null,"code":"import _defineProperty from\"/home/frboy/whyshop/cliend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/frboy/whyshop/cliend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/frboy/whyshop/cliend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _extraReducers;import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import Axios from'../Axios';export var fetchCart=createAsyncThunk('cart/fetchCart',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get('/cart').then(function(res){return res.data;});case 2:response=_context.sent;return _context.abrupt(\"return\",response);case 4:case\"end\":return _context.stop();}}},_callee);})));export var CartSlice=createSlice({name:'cart',initialState:{cartInfo:[],error:'',total:0},reducers:{addToCart:function addToCart(state,action){console.log(action.payload);state.cartInfo.push(action.payload);},changeProductQuantity:function changeProductQuantity(state,action){action.payload.quantity===.5?state.total+=action.payload.price:state.total-=action.payload.price;state.cartInfo.find(function(itme){return itme._id===action.payload.id;}).quantity+=action.payload.quantity;},removeFromCart:function removeFromCart(state,action){state.cartInfo=state.cartInfo.filter(function(item){return item._id!==action.payload;});},removeAllProducts:function removeAllProducts(state,action){state.cartInfo=[];}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchCart.pending,function(state,action){state.loading=true;}),_defineProperty(_extraReducers,fetchCart.fulfilled,function(state,action){state.cartInfo=action.payload.cart;state.total=action.payload.totalamout;state.totle=action.payload.totleamout;state.loading=false;}),_defineProperty(_extraReducers,fetchCart.rejected,function(state,action){state.error=action.error;state.loading=false;}),_extraReducers)});var _CartSlice$actions=CartSlice.actions,addToCart=_CartSlice$actions.addToCart,changeProductQuantity=_CartSlice$actions.changeProductQuantity,removeFromCart=_CartSlice$actions.removeFromCart,removeAllProducts=_CartSlice$actions.removeAllProducts,Checkout=_CartSlice$actions.Checkout;export{addToCart,changeProductQuantity,removeFromCart,removeAllProducts,Checkout};export default CartSlice.reducer;","map":{"version":3,"sources":["/home/frboy/whyshop/cliend/src/Features/Cart.js"],"names":["createSlice","createAsyncThunk","Axios","fetchCart","get","then","res","data","response","CartSlice","name","initialState","cartInfo","error","total","reducers","addToCart","state","action","console","log","payload","push","changeProductQuantity","quantity","price","find","itme","_id","id","removeFromCart","filter","item","removeAllProducts","extraReducers","pending","loading","fulfilled","cart","totalamout","totle","totleamout","rejected","actions","Checkout","reducer"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport Axios from '../Axios'\n\n\n\nexport const fetchCart = createAsyncThunk('cart/fetchCart', async () => {\n    const response = await Axios.get('/cart').then(res => res.data)\n    return response\n}\n)\nexport const CartSlice = createSlice({\n    name: 'cart',\n    initialState: {\n        cartInfo: [],\n        error: '',\n        total: 0,\n    },\n    reducers: {\n        addToCart: (state, action) => {\n            console.log(action.payload)\n            state.cartInfo.push(action.payload)\n        },\n        changeProductQuantity: (state, action) => {\n            action.payload.quantity === .5 ? state.total += action.payload.price : state.total -= action.payload.price\n            state.cartInfo.find(itme => itme._id === action.payload.id).quantity += action.payload.quantity\n        },\n        removeFromCart: (state, action) => {\n            state.cartInfo = state.cartInfo.filter(item => item._id !== action.payload)\n        },\n        removeAllProducts: (state, action) => {\n            state.cartInfo = []\n        },\n    },\n    extraReducers: {\n        [fetchCart.pending]: (state, action) => {\n            state.loading = true\n        }\n        ,\n        [fetchCart.fulfilled]: (state, action) => {\n            state.cartInfo = action.payload.cart\n            state.total = action.payload.totalamout\n            state.totle = action.payload.totleamout\n            state.loading = false\n        }\n        ,\n        [fetchCart.rejected]: (state, action) => {\n            state.error = action.error\n            state.loading = false\n        }\n    }\n})\nexport const { addToCart, changeProductQuantity, removeFromCart, removeAllProducts,Checkout } = CartSlice.actions;\nexport default CartSlice.reducer;"]},"metadata":{},"sourceType":"module"}