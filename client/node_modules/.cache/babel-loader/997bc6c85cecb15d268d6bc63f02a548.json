{"ast":null,"code":"import _slicedToArray from\"/home/frboy/whyshop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./Product.css';import RecomendDiv from'../../Components/RecommendProducts/RecommendDIv';import NavBar from'../../Components/Navbar/NavBar';import{useParams}from'react-router-dom';import Axios,{ImagePath}from'../../Axios';import{useDispatch,useSelector}from'react-redux';import{addToCart,changeProductQuantity}from'../../Features/Cart';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Product(){var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),SearchProductInfo=_useState2[0],setSearchProduct=_useState2[1];var _useParams=useParams(),productName=_useParams.id;var _useSelector=useSelector(function(sate){return sate.products;}),products=_useSelector.products;useEffect(function(){var findProduct=products.find(function(item){return item.name===productName;});findProduct?setSearchProduct(findProduct):navigate('/');},[productName]);var _useSelector2=useSelector(function(state){return state.cart;}),cartInfo=_useSelector2.cartInfo;var _useSelector3=useSelector(function(sate){return sate.user;}),isAuth=_useSelector3.isAuth;var inCart=cartInfo.find(function(item){return item._id===SearchProductInfo._id;});function AddTOCart(id,product){var name=product.name,price=product.price,imageId=product.imageId,type=product.type;dispatch(addToCart({_id:id,name:name,price:price,imageId:imageId,id:id,quantity:1,type:type}));Axios.put(\"cart/add-to-cart/\".concat(id)).then(function(res){});}var changeQuantity=function changeQuantity(quantity,id){dispatch(changeProductQuantity({id:id,quantity:quantity}));Axios.put(\"cart/change-product-quantity/\".concat(id),{quantity:quantity}).then(function(res){});};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-main\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"show-product-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"show-product-images\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(ImagePath+SearchProductInfo.imageId,\".jpg\"),alt:\"product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"show-product-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"p-title\",children:SearchProductInfo.name}),/*#__PURE__*/_jsx(\"span\",{className:\"p-stock\",children:\" In stock\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"p-price\",children:[\"\\u20B9\",SearchProductInfo.price,\" Kg\"]}),inCart?/*#__PURE__*/_jsxs(\"div\",{className:\"p-change-quantity\",children:[/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:\"red\"},onClick:function onClick(){return changeQuantity(-.5,inCart._id);},children:\"-\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"p-quantity\",children:[inCart.quantity,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"p-kg\",children:\" kg\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return changeQuantity(.5,inCart._id);},children:\"+\"})]}):/*#__PURE__*/_jsx(\"button\",{className:\"p-button\",onClick:function onClick(){return isAuth?AddTOCart(SearchProductInfo._id,SearchProductInfo):navigate(\"/signup\");},children:\"Add to cart\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-recommend\",children:[/*#__PURE__*/_jsx(RecomendDiv,{by:\"type\",type:SearchProductInfo.type}),/*#__PURE__*/_jsx(RecomendDiv,{}),/*#__PURE__*/_jsx(RecomendDiv,{})]})]});}export default Product;","map":{"version":3,"sources":["/home/frboy/whyshop/client/src/Page/Product/Product.js"],"names":["React","useState","useEffect","RecomendDiv","NavBar","useParams","Axios","ImagePath","useDispatch","useSelector","addToCart","changeProductQuantity","useNavigate","Product","dispatch","navigate","SearchProductInfo","setSearchProduct","productName","id","sate","products","findProduct","find","item","name","state","cart","cartInfo","user","isAuth","inCart","_id","AddTOCart","product","price","imageId","type","quantity","put","then","res","changeQuantity","backgroundColor"],"mappings":"gHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,iDAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,aAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,CAAoBC,qBAApB,KAAiD,qBAAjD,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAKA,QAASC,CAAAA,OAAT,EAAmB,CAEf,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CACA,cAA8CX,QAAQ,CAAC,EAAD,CAAtD,wCAAOe,iBAAP,eAA0BC,gBAA1B,eACA,eAA4BZ,SAAS,EAArC,CAAYa,WAAZ,YAAQC,EAAR,CACA,iBAAqBV,WAAW,CAAC,SAAAW,IAAI,QAAIA,CAAAA,IAAI,CAACC,QAAT,EAAL,CAAhC,CAAQA,QAAR,cAAQA,QAAR,CAEAnB,SAAS,CAAC,UAAM,CAEZ,GAAMoB,CAAAA,WAAW,CAAGD,QAAQ,CAACE,IAAT,CAAc,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,GAAcP,WAAlB,EAAlB,CAApB,CACAI,WAAW,CAAGL,gBAAgB,CAACK,WAAD,CAAnB,CAAmCP,QAAQ,CAAC,GAAD,CAAtD,CAEH,CALQ,CAKN,CAACG,WAAD,CALM,CAAT,CAOA,kBAAqBT,WAAW,CAAC,SAAAiB,KAAK,QAAIA,CAAAA,KAAK,CAACC,IAAV,EAAN,CAAhC,CAAQC,QAAR,eAAQA,QAAR,CACA,kBAAmBnB,WAAW,CAAC,SAAAW,IAAI,QAAIA,CAAAA,IAAI,CAACS,IAAT,EAAL,CAA9B,CAAQC,MAAR,eAAQA,MAAR,CACA,GAAMC,CAAAA,MAAM,CAAGH,QAAQ,CAACL,IAAT,CAAc,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACQ,GAAL,GAAahB,iBAAiB,CAACgB,GAAnC,EAAlB,CAAf,CAEA,QAASC,CAAAA,SAAT,CAAmBd,EAAnB,CAAuBe,OAAvB,CAAgC,CAC5B,GAAQT,CAAAA,IAAR,CAAuCS,OAAvC,CAAQT,IAAR,CAAcU,KAAd,CAAuCD,OAAvC,CAAcC,KAAd,CAAqBC,OAArB,CAAuCF,OAAvC,CAAqBE,OAArB,CAA8BC,IAA9B,CAAuCH,OAAvC,CAA8BG,IAA9B,CACAvB,QAAQ,CAACJ,SAAS,CAAC,CAAEsB,GAAG,CAAEb,EAAP,CAAWM,IAAI,CAAJA,IAAX,CAAiBU,KAAK,CAALA,KAAjB,CAAwBC,OAAO,CAAPA,OAAxB,CAAiCjB,EAAE,CAAFA,EAAjC,CAAqCmB,QAAQ,CAAE,CAA/C,CAAkDD,IAAI,CAAJA,IAAlD,CAAD,CAAV,CAAR,CACA/B,KAAK,CAACiC,GAAN,4BAA8BpB,EAA9B,GAAoCqB,IAApC,CAAyC,SAAAC,GAAG,CAAI,CAAG,CAAnD,EACH,CACD,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACJ,QAAD,CAAWnB,EAAX,CAAkB,CACrCL,QAAQ,CAACH,qBAAqB,CAAC,CAAEQ,EAAE,CAAFA,EAAF,CAAMmB,QAAQ,CAARA,QAAN,CAAD,CAAtB,CAAR,CACAhC,KAAK,CAACiC,GAAN,wCAA0CpB,EAA1C,EAAgD,CAAEmB,QAAQ,CAARA,QAAF,CAAhD,EAA8DE,IAA9D,CAAmE,SAAAC,GAAG,CAAI,CAAG,CAA7E,EACH,CAHD,CAIA,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,KAAC,MAAD,IADJ,cAEI,aAAK,SAAS,CAAC,mBAAf,wBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,YAAK,GAAG,WAAKlC,SAAS,CAAES,iBAAiB,CAACoB,OAAlC,QAAR,CAAyD,GAAG,CAAC,SAA7D,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,sBAAf,wBACI,aAAM,SAAS,CAAC,SAAhB,UAA2BpB,iBAAiB,CAACS,IAA7C,EADJ,cAEI,aAAM,SAAS,CAAC,SAAhB,uBAFJ,cAGI,cAAM,SAAS,CAAC,SAAhB,oBAA4BT,iBAAiB,CAACmB,KAA9C,SAHJ,CAIKJ,MAAM,cAAG,aAAK,SAAS,CAAC,mBAAf,wBACN,eAAQ,KAAK,CAAE,CAAEY,eAAe,CAAE,KAAnB,CAAf,CAA2C,OAAO,CAAE,yBAAMD,CAAAA,cAAc,CAAC,CAAC,EAAF,CAAMX,MAAM,CAACC,GAAb,CAApB,EAApD,eADM,cAEN,cAAM,SAAS,CAAC,YAAhB,WAA8BD,MAAM,CAACO,QAArC,kBAA+C,aAAM,SAAS,CAAC,MAAhB,iBAA/C,GAFM,cAGN,eAAQ,OAAO,CAAE,yBAAMI,CAAAA,cAAc,CAAC,EAAD,CAAKX,MAAM,CAACC,GAAZ,CAApB,EAAjB,eAHM,GAAH,cAKH,eAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAE,yBAAMF,CAAAA,MAAM,CAAGG,SAAS,CAACjB,iBAAiB,CAACgB,GAAnB,CAAwBhB,iBAAxB,CAAZ,CAAyDD,QAAQ,CAAC,SAAD,CAA7E,EAAtC,yBATR,GAJJ,GAFJ,cAmBI,aAAK,SAAS,CAAC,aAAf,wBACI,KAAC,WAAD,EAAa,EAAE,CAAC,MAAhB,CAAuB,IAAI,CAAEC,iBAAiB,CAACqB,IAA/C,EADJ,cAEI,KAAC,WAAD,IAFJ,cAGI,KAAC,WAAD,IAHJ,GAnBJ,GADJ,CA6BH,CAED,cAAexB,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './Product.css'\nimport RecomendDiv from '../../Components/RecommendProducts/RecommendDIv'\nimport NavBar from '../../Components/Navbar/NavBar'\nimport { useParams } from 'react-router-dom'\nimport Axios, { ImagePath } from '../../Axios'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { addToCart, changeProductQuantity } from '../../Features/Cart'\nimport { useNavigate } from \"react-router-dom\"\n\n\n\n\nfunction Product() {\n\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n    const [SearchProductInfo, setSearchProduct] = useState({})\n    const { id: productName } = useParams()\n    const { products } = useSelector(sate => sate.products)\n\n    useEffect(() => {\n   \n        const findProduct = products.find(item => item.name === productName)\n        findProduct ? setSearchProduct(findProduct) : navigate('/')\n\n    }, [productName])\n\n    const { cartInfo } = useSelector(state => state.cart)\n    const { isAuth } = useSelector(sate => sate.user)\n    const inCart = cartInfo.find(item => item._id === SearchProductInfo._id)\n\n    function AddTOCart(id, product) {\n        const { name, price, imageId, type } = product\n        dispatch(addToCart({ _id: id, name, price, imageId, id, quantity: 1, type }))\n        Axios.put(`cart/add-to-cart/${id}`).then(res => { })\n    }\n    const changeQuantity = (quantity, id) => {\n        dispatch(changeProductQuantity({ id, quantity }))\n        Axios.put(`cart/change-product-quantity/${id}`, { quantity }).then(res => { })\n    }\n    return (\n        <div className='product-main'>\n            <NavBar />\n            <div className='show-product-info'>\n                <div className='show-product-images'>\n                    <img src={`${ImagePath +SearchProductInfo.imageId}.jpg`} alt='product' />\n                </div>\n                <div className='show-product-details'>\n                    <span className='p-title'>{SearchProductInfo.name}</span>\n                    <span className='p-stock'> In stock</span>\n                    <span className='p-price'>â‚¹{SearchProductInfo.price} Kg</span>\n                    {inCart ? <div className='p-change-quantity'>\n                        <button style={{ backgroundColor: \"red\" }} onClick={() => changeQuantity(-.5, inCart._id)} >-</button>\n                        <span className='p-quantity'>{inCart.quantity} <span className=\"p-kg\"> kg</span></span>\n                        <button onClick={() => changeQuantity(.5, inCart._id)}>+</button>\n                    </div> :\n                        <button className='p-button' onClick={() => isAuth ? AddTOCart(SearchProductInfo._id, SearchProductInfo) : navigate(\"/signup\")} >Add to cart</button>}\n                </div>\n            </div>\n\n            <div className='p-recommend'>\n                <RecomendDiv by=\"type\" type={SearchProductInfo.type} />\n                <RecomendDiv />\n                <RecomendDiv />\n            </div>\n\n\n        </div>\n    )\n}\n\nexport default Product\n"]},"metadata":{},"sourceType":"module"}