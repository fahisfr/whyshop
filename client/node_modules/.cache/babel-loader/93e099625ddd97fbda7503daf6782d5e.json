{"ast":null,"code":"import React,{useEffect}from'react';import'./Cart.css';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{fetchCart,removeFromCart,changeProductQuantity,removeAllProducts}from'../../Features/Cart';import Axios,{ImagePath}from'../../Axios';import Navbar from'../../Components/Navbar/NavBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(){var dispatch=useDispatch();useEffect(function(){dispatch(fetchCart());},[dispatch]);var _useSelector=useSelector(function(state){return state.cart;}),cartInfo=_useSelector.cartInfo;var changeQuantity=function changeQuantity(quantity,id){Axios.put(\"cart/change-product-quantity/\".concat(id),{quantity:quantity}).then(function(res){if(res.data.status){dispatch(changeProductQuantity({id:id,quantity:quantity}));}});};var removeCartProduct=function removeCartProduct(id){Axios.put('cart/remove-product/'+id,{id:id}).then(function(res){if(res.data.status){dispatch(removeFromCart(id));}});};var deleteAll=function deleteAll(id){Axios.delete('cart/remove-all-products').then(function(res){if(res.data.status){dispatch(removeAllProducts());}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-main\",children:cartInfo.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"cart-empty\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Cart empty\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-products-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-info-tag\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"FrShopping Cart\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Items\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-info-list\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"align-initial cart-table-head-border\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-center cart-table-head-border\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-center cart-table-head-border\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-center cart-table-head-border\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-center cart-table-head-border\",children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{className:\"align-center cart-table-head-border\",children:/*#__PURE__*/_jsx(\"button\",{onClick:deleteAll,className:\"clear-cart\",children:\"Clear Cart\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cartInfo.map(function(product,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-initial\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-table-body-productname\",children:[/*#__PURE__*/_jsx(\"img\",{src:ImagePath(product.imageId),alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:product.name})]})}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsxs(\"td\",{className:\"cart-ceanter-td\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsx(\"td\",{className:\"cart-ceanter-td\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-table-body-quantiy\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return changeQuantity(-.5,product._id);},children:\"-\"}),/*#__PURE__*/_jsxs(\"span\",{children:[product.quantity,\" kg\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return changeQuantity(.5,product._id);},children:\"+\"})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"cart-ceanter-td\",children:[\"\\u20B9\",product.total]}),/*#__PURE__*/_jsx(\"td\",{className:\"cart-ceanter-td\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){return removeCartProduct(product._id);},className:\"remove-from-cart\",children:\"Remove\"})})]},index);})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-billinfo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-billinfo-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Bill Information\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-billinfo-body\",children:/*#__PURE__*/_jsx(Link,{to:\"/place-order\",children:/*#__PURE__*/_jsx(\"button\",{className:\"checkout-btn\",children:\"Checkout\"})})})]})]})})]});}export default Cart;","map":{"version":3,"sources":["/home/frboy/whyshop/cliend/src/Page/Cart/Cart.js"],"names":["React","useEffect","Link","useSelector","useDispatch","fetchCart","removeFromCart","changeProductQuantity","removeAllProducts","Axios","ImagePath","Navbar","Cart","dispatch","state","cart","cartInfo","changeQuantity","quantity","id","put","then","res","data","status","removeCartProduct","deleteAll","delete","length","map","product","index","imageId","name","price","e","_id","total"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport './Cart.css'\nimport {  Link } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { fetchCart, removeFromCart, changeProductQuantity, removeAllProducts } from '../../Features/Cart'\nimport Axios, { ImagePath } from '../../Axios'\n\n\nimport Navbar from '../../Components/Navbar/NavBar'\n\n\n\nfunction Cart() {\n    const dispatch = useDispatch()\n    useEffect( () => {\n    dispatch(fetchCart())\n    },[dispatch])\n    const { cartInfo} = useSelector(state => state.cart)\n  \n    const changeQuantity = (quantity, id) => {\n        Axios.put(`cart/change-product-quantity/${id}`, { quantity }).then(res => {\n            if (res.data.status) {\n                dispatch(changeProductQuantity({id,quantity}))\n            }\n        })\n    }\n    const removeCartProduct = id => {\n        Axios.put('cart/remove-product/' + id, { id: id }).then(res => {\n            if (res.data.status) {\n                dispatch(removeFromCart(id))}\n        })\n    }\n    const  deleteAll =id => {\n        Axios.delete('cart/remove-all-products').then(res => {\n            if (res.data.status) {\n                dispatch(removeAllProducts())\n            }\n        })\n    }\n    return (\n        <div>\n            <Navbar></Navbar>\n        <div className=\"cart-main\">\n            {\n                cartInfo.length === 0 ?\n                    <div className='cart-empty'>\n                        <h1 >Cart empty</h1>\n                    </div>\n                    :\n                    <div className=\"cart-container\">\n                        <div className=\"cart-products-info\">\n                            <div className=\"cart-info-tag\">\n                                <h1>FrShopping Cart</h1>\n                                <h1>Items</h1>\n                            </div>\n                            <div className=\"cart-info-list\">\n                                <table >\n                                    <thead>\n                                        <tr>\n                                            <th className='align-initial cart-table-head-border'>Product Name</th>\n                                            <th className='align-center cart-table-head-border'></th>\n                                            <th className='align-center cart-table-head-border'>Price</th>\n                                            <th className='align-center cart-table-head-border'>Quantity</th>\n                                            <th className='align-center cart-table-head-border'>Total</th>\n                                            <th className='align-center cart-table-head-border'><button onClick={deleteAll} className='clear-cart'>Clear Cart</button></th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {\n                                            cartInfo.map((product,index) => {\n                                                return (\n                                                    <tr key={index}>\n                                                        <td className='align-initial' >\n                                                            <div className='cart-table-body-productname'>\n                                                                <img src={ImagePath(product.imageId)} alt=\"\" />\n                                                                <h4>{product.name}</h4>\n                                                            </div></td>\n                                                        <td></td>\n                                                        <td className='cart-ceanter-td' >₹{product.price}</td>\n                                                        <td className='cart-ceanter-td' >\n                                                            <div className=\"cart-table-body-quantiy\">\n                                                                <button onClick={(e) => changeQuantity(-.5, product._id)} >-</button>\n                                                                <span>{product.quantity} kg</span>\n                                                                <button onClick={(e) => changeQuantity(.5, product._id)}>+</button>\n                                                            </div>\n                                                        </td>\n                                                        <td className='cart-ceanter-td' >₹{product.total}</td>\n                                                        <td className='cart-ceanter-td'>\n                                                            <button onClick={(e) => removeCartProduct(product._id)} className='remove-from-cart'>Remove</button>\n                                                        </td>\n                                                    </tr>\n                                                )\n                                            })\n                                        }\n\n                                    </tbody>\n                                </table>\n                            </div>\n\n\n                        </div>\n                        <div className=\"cart-billinfo\">\n                            <div className=\"cart-billinfo-header\">\n                                <h4>Bill Information</h4>\n                            </div>\n                            <div className=\"cart-billinfo-body\">\n                                <Link to='/place-order'><button className='checkout-btn'>Checkout</button></Link>\n                            </div>\n                        </div>\n                    </div>\n            }\n            </div>\n        </div>\n    )\n\n}\n\nexport default Cart\n"]},"metadata":{},"sourceType":"module"}